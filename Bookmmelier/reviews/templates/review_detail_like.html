{% if request.user.is_authenticated %}
<div id="review_like">
    <p>{{ review.like_users.count}}명이 좋아합니다.</p>   
    {% if request.user in review.like_users.all %}
        <input type="button" value="좋아요 취소" onclick="review_dislike('{{review.review_id}}')">
    {% else %}
        <input type="button" value="좋아요" onclick="review_like('{{review.review_id}}')">        
    {% endif %}
</div>
{%endif%}

<script>
    const review_like = (review_id) =>{
        $.ajax({
                type:"POST",
                url: "{% url 'reviews:review_like' %}",
                data : {'review_id': review_id, csrfmiddlewaretoken:'{{ csrf_token }}'},
                success:function(data){  
                    alert('좋아요')
                    $('#review_like').html(data);
                }
        });
    }
    const review_dislike = (review_id) =>{
        $.ajax({
                type:"POST",
                url: "{% url 'reviews:review_dislike' %}",
                data : {'review_id': review_id, csrfmiddlewaretoken:'{{ csrf_token }}'},
                success:function(data){  
                    alert('싫어요')
                    $('#review_like').html(data);
                }
        });
    }
</script>
